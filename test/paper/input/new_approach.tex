\section{Improving TopicRank with Association Rules}
\label{improving_topicRank_with_association_rules}

  \begin{figure*}
    \begin{tikzpicture}[node distance=1cm]
      \begin{scope}[color=black]
        % nodes
        \node [] (author_rules) [] {\drawcomponent{Association\\rule\\induction}};
        \node [] (keyphrase_rules) [right=of author_rules] {\drawcomponent{Association\\rule\\induction}};
        \node [] (candidate_rules) [right=of keyphrase_rules] {\drawcomponent{Association\\rule\\induction}};

        \node [] (author_itemsets) [above=of author_rules] {\drawdatabase{Author\\itemsets}};
        \node [] (keyphrase_itemsets) [above=of keyphrase_rules] {\drawdatabase{Keyphrase\\itemsets}};
        \node [] (candidate_itemsets) [above=of candidate_rules] {\drawdatabase{Candidate\\itemsets}};

        \node [] (apriori_authors) [above=of author_itemsets] {\drawcomponent{Apriori}};
        \node [] (apriori_keyphrases) [above=of keyphrase_itemsets] {\drawcomponent{Apriori}};
        \node [] (apriori_candidates) [above=of candidate_itemsets] {\drawcomponent{Apriori}};

        \node [] (candidate_selection) [above=of apriori_candidates,yshift=-.5cm] {\drawcomponent{Candidate\\Selection}};

        \node [] (train_documents) [above=of apriori_keyphrases] {\drawcorpus{Train documents}};

        \node [] (gt_author) [below=of author_rules] {\drawdatabase{Author\\generation\\rules}};
        \node [] (etgt_keyphrase) [below=of keyphrase_rules] {\drawdatabase{Keyphrase\\generation\\rules}};
        \node [] (et_candidate) [below=of candidate_rules] {\drawdatabase{Candidate\\generation\\rules}};

        % arrows
        \draw [arrow] (train_documents.west) node [above, anchor=south east] {authors} -| (apriori_authors);
        \draw [arrow] (train_documents.south) node [right, anchor=north west] {keyphrases} -- (apriori_keyphrases);
        \draw [arrow] (train_documents.east) -| (candidate_selection);
        \draw [arrow] (candidate_selection) -- (apriori_candidates);

        \draw [arrow] (apriori_authors) -- (author_itemsets);
        \draw [arrow] (apriori_keyphrases) -- (keyphrase_itemsets);
        \draw [arrow] (apriori_candidates) -- (candidate_itemsets);

        \draw [arrow] (author_itemsets) -- (author_rules);
        \draw [arrow] ([xshift=.75cm]keyphrase_itemsets.south west) -- +(0, -0.5) -| (author_rules.north);
        \draw [arrow] (keyphrase_itemsets) -- (keyphrase_rules);
        \draw [arrow] ([xshift=-0.75cm]keyphrase_itemsets.south east) -- +(0, -0.5) -| (candidate_rules.north);
        \draw [arrow] (candidate_itemsets) -- (candidate_rules);

        \draw [arrow] (author_rules) -- (gt_author);
        \draw [arrow] (keyphrase_rules) -- (etgt_keyphrase);
        \draw [arrow] (candidate_rules) -- (et_candidate);
      \end{scope}

      \begin{scope}
        % nodes
        \node [] (topicrank) [right=of candidate_rules] {\drawcomponent{TopicRank}};

        \node [] (document) [above=of topicrank, yshift=6.4cm] {\drawdocument{Document}};

        % arrows
        \draw [arrow] (document) -- (topicrank);
      \end{scope}

      \begin{scope}
        % nodes
        \node [] (final_step) [below=of et_candidate] {\drawcomponent{Keyphrase generation}};
        \node [] (keyphrases) [below=of final_step] {\drawdatabase{Document\\keyphrases}};

        % arrows
        \draw [arrow] (et_candidate) -- (final_step);
        \draw [arrow] (etgt_keyphrase.south) -- +(0, -0.5) -| (final_step.north);
        \draw [arrow] (gt_author.south) -- +(0, -0.5) -| (final_step.north);
        \draw [arrow] (topicrank.south) -- +(0, -4.62) -| (final_step.north);

        \draw [arrow] (final_step) -- (keyphrases);
      \end{scope}

      \begin{scope}
        % nodes
        \node [] (controlled_vocabulary) [right=of document] {\drawdatabase{Controlled\\Vocabulary}};

        % arrows
        \draw [arrow] (controlled_vocabulary.south) -- +(0, -13.47) -| (final_step.north);
      \end{scope}

      \begin{pgfonlayer}{background}
        \filldraw [line width=4mm,join=round,black!10] (train_documents.north  -| candidate_rules.east) rectangle (et_candidate.south  -| author_rules.west);
        \filldraw [line width=4mm,join=round,black!10] (document.north  -| document.east) rectangle (et_candidate.south  -| document.west);
        \filldraw [line width=4mm,join=round,black!10] (controlled_vocabulary.north  -| controlled_vocabulary.east) rectangle (et_candidate.south  -| controlled_vocabulary.west);
        \filldraw [line width=4mm,join=round,black!10] (final_step.north  -| controlled_vocabulary.east) rectangle (keyphrases.south  -| author_rules.west);
      \end{pgfonlayer}
    \end{tikzpicture}
    \caption{System overview.
             \label{fig:system_overview}}
  \end{figure*}

